# 图形初阶

```R
> dose <- c(20,30,40,45,60)
> drugA <- c(16,20,27,40,60)
> drugB <- c(15,18,25,31,40)
```
```R
> plot(dose,drugA,type='b')
```
- plot()是R中为对象作图的一个泛型函数

## 图形参数
通过修改称为图形参数的选项来自定义一幅图形的多个特征(字体、颜色、坐标轴、 标签)
```
par(optionname=value, optionname=name,...)
```

### 符号
- `pch` 用于指定符号和线条类型的参数 指定绘制点时使用的符号
- `cex` 指定符号的大小。cex 是一个数值,表示绘图符号相对于默认大小的缩放倍数。默认大小为 1,1.5 表 示放大为默认值的 1.5 倍,0.5 表示缩小为默认值的 50%,等等

### 线条
- `lty` 指定线条类型
- `lwd` 指定线条宽度。lwd 是以默认值的相对大小来表示的(默认值为 1)。例如,lwd=2 将生成一条两倍于默认宽度的线条

### 颜色
- `col` 默认的绘图颜色。某些函数(如 lines 和 pie)可以接受一个含有颜色值的向量并自动循环使用。 例如,如果设定 col=c("red", "blue")并需要绘制三条线,则第一条线将为红色,第二条线为蓝 色,第三条线又将为红色
- `col.axis` ￼坐标轴刻度文字的颜色
- `col.lab` 坐标轴标签(名称)的颜色
- `col.main` 标题颜色
- `col.sub` 副标题颜色
- `fg` 图形的前景色
- `bg` 图形的背景色

### 文本属性
- `cex` 表示相对于默认大小缩放倍数的数值。默认大小为 1,1.5 表示放大为默认值的 1.5 倍,0.5 表示缩小为 默认值的 50%,等等
- `cex.axis` 坐标轴刻度文字的缩放倍数。类似于 cex
- `cex.lab` 坐标轴标签(名称)的缩放倍数。类似于 cex
- `cex.main` 标题的缩放倍数。类似于 cex
- `cex.sub` 副标题的缩放倍数。类似于 cex

- `font` 整数。用于指定绘图使用的字体样式。1=常规,2=粗体,3=斜体,4=粗斜体,5=符号字体(以 Adobe 符号编码表示)
- `font.axis` 坐标轴刻度文字的字体样式
- `font.lab` 坐标轴标签(名称)的字体样式
- `font.main` 标题的字体样式
- `font.sub` 副标题的字体样式
- `ps` 字体磅值(1 磅约为 1/72 英寸)。文本的最终大小为 ps*cex
- `family` 绘制文本时使用的字体族。标准的取值为 serif(衬线)、sans(无衬线)和 mono(等宽)

### 图形尺寸
- `pin` 以英寸表示的图形尺寸(宽和高) 

### 边界尺寸
- `mai` 以数值向量表示的边界大小,顺序为“下、左、上、右”,单位为英寸
- `mar` 以数值向量表示的边界大小,顺序为“下、左、上、右”,单位为英分1。默认值为 c(5, 4, 4, 2) + 0.1

## 添加文本、自定义坐标轴和图例

### 标题
- `title()` 为图形添加标题和坐标轴标签

### 坐标轴
- `axis(side, at=, labels=, pos=, lty=, col=, las=, tck=, ...)` 创建自定义的坐标轴
  - `side` 一个整数,表示在图形的哪边绘制坐标轴(1=下,2=左,3=上,4=右)
  - `at` 一个数值型向量,表示需要绘制刻度线的位置
  - `labels` 一个字符型向量,表示置于刻度线旁边的文字标签(如果为 NULL,则将直接使用 at 中的值)
  - `pos` 坐标轴线绘制位置的坐标(即与另一条坐标轴相交位置的值)
  - `lty` 线条类型
  - `col` 线条和刻度线颜色
  - `las` 标签是否平行于(=0)或垂直于(=2)坐标轴
  - `tck` 刻度线的长度,以相对于绘图区域大小的分数表示(负值表示在图形外侧,正值表示在图形内侧,0 表示禁用刻度,1 表示绘制网格线);默认值为–0.01

### 参考线
- `abline()` 用来为图形添加参考线

### 图例
- `legend(location, title, legend, ...)` 添加图例
  - `location` 有许多方式可以指定图例的位置。
  - `legend` 图例标签组成的字符型向量
  - `title` 图例标题的字符串(可选)

### 文本标注
- `text(location, "text to place", pos, ...)` 可向绘图区域内部添加
- `mtext("text to place", side, line=n, ...)` 向图形的四个边界之一添加文本
  - `location` 文本的位置参数。可为一对 x、y 坐标,也可通过指定 location 为 locator(1)使用鼠标交互式地确 定摆放位置
  - `pos` 文本相对于位置参数的方位。1=下,2=左,3=上,4=右。如果指定了 pos,就可以同时指定参数 offset= 作为偏移量,以相对于单个字符宽度的比例表示
  - `side` 指定用来放置文本的边。1=下,2=左,3=上,4=右。你可以指定参数 line=来内移或外移文本,随着 值的增加,文本将外移。也可使用 adj=0 将文本向左下对齐,或使用 adj=1 右上对齐

### 数学标注
- `plotmath()` 可以为图形主体或边界上的标题、坐标轴名称 或文本标注添加数学符号

## 图形的组合
使用函数par()或layout()可以容易地组合多幅图形为一幅总括图形

在par()函数中使用图形参数
- 使用mfrow=c(nrows, ncols)按行填充的、行数为 nrows、列数为ncols的图形矩阵。
- 使用mfcol=c(nrows, ncols)按列填充矩阵。

函数layout()的调用形式为layout(mat),其中的mat是一个矩阵,它指定了所要组合的多个图形的所在位置。
```
attach(mtcars)
layout(matrix(c(1,1,2,3), 2, 2, byrow = TRUE)) # 一幅图被置于第1行,另两幅图则被置于第2行
hist(wt)
hist(mpg)
hist(disp)
detach(mtcars)
```
